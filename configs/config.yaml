app:
  name: outbound-call-campaign
  env: development
  version: 0.1.0

http:
  port: 8081
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s

postgres:
  host: localhost
  port: 5432
  user: campaign
  password: campaign
  database: campaign
  ssl_mode: disable
  max_conns: 2
  min_conns: 1
  max_conn_lifetime: 30m
  max_conn_idle_time: 10m
  health_query: "SELECT 1"

scylla:
  hosts:
    - 127.0.0.1
  port: 9042
  keyspace: campaign
  consistency: quorum
  timeout: 5s
  disable_init_schema: false

kafka:
  brokers:
    - localhost:9092
  client_id: outbound-call-service
  call_topic: campaign.calls.dispatch
  status_topic: campaign.calls.status
  retry_topics:
    - campaign.calls.retry.1
    - campaign.calls.retry.2
    - campaign.calls.retry.3
    - campaign.calls.retry.4
    - campaign.calls.retry.5
  dead_letter_topic: campaign.calls.deadletter
  consumer_group_id: outbound-call-consumer
  retry_consumer_group_id: outbound-call-retry-consumer
  commit_interval: 1s

redis:
  address: localhost:6379
  password: ""
  db: 0
  dial_timeout: 2s
  read_timeout: 1s
  write_timeout: 1s
  pool_size: 64
  min_idle_conns: 16
  max_retries: 3

telemetry:
  endpoint: http://localhost:4318
  service_name: outbound-call-service
  sample_ratio: 0.1
  metrics_interval: 15s
  metrics_enabled: true
  tracing_enabled: true
  propagators:
    - tracecontext
    - baggage
  shutdown_timeout: 10s
  collector_protocol: http

scheduler:
  tick_interval: 3s
  look_ahead: 5m
  max_batch_size: 50
  worker_count: 4
  lock_ttl: 1m
  lock_key_prefix: campaign-scheduler

retry:
  max_attempts: 5
  base_delay: 2s
  max_delay: 120s
  jitter: 0.2

throttle:
  global_concurrency: 50000
  default_per_campaign: 500

call_bridge:
  provider_name: mock
  request_timeout: 10s
